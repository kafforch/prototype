"""
    Orchestrator facade to expose API:
"""

import plan_repo
import plan_exec


def submit_plan_for_execution(plan_json):
    """
    Executes submitted plan.

    Algorithm:
        parse plan JSON
        save the plan and get back plan id
        trigger plan execution

    :param plan_json: json string describing a plan
    :return: plan_id: Autogenerated id of submitted plan
    """

    plan_id = plan_repo.save_new_plan(plan_json)
    plan_exec.execute_plan(plan_id)

    return plan_id
